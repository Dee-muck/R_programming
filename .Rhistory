}
}
mean(monitor, na.rm-TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
data <- read.csv(iFilename)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm-TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
iFilename("specdata", 2)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
iFilename("specdata", 2)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
data <- read.csv(iFileName)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm-TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
iFilename("specdata", 2)
iFileName("specdata", 2)
file.rename()
filename
ffn<-iFileName("specdata", 2)
ffn
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
nameoffile <- iFileName
data <- read.csv(nameoffile)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm-TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
class(nameoffile)
ffn<-iFileName("specdata", 2)
ffn
class(ffn)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
nameoffile <- iFileName
data <- read.csv(nameoffile)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm-TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
for (i in id) {
nameoffile <- iFileName
data <- read.csv(nameoffile)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm-TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
nameoffile <- iFileName(directory,id)
data <- read.csv(nameoffile)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm-TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "sulfate", 1:10)
nameoffile <- iFileName("specdata",1)
nameoffile
data <- read.csv(nameoffile)
data
data[1,]
data[1461,]
monitor<-numeric()
monitor <- c(monitor, data$sulfate)
monitor
mean(monitor, na.rm=TRUE)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
nameoffile <- iFileName(directory,id)
data <- read.csv(nameoffile)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm=TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm=TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
monitor<-numeric()
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm=TRUE)
}
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean <- function(directory, pollutant, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
monitor<-numeric()
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
if (pollutant == "sulfate") {
monitor <- c(monitor, data$sulfate)
} else if (pollutant == "nitrate") {
monitor <- c(monitor, data$nitrate)
}
}
mean(monitor, na.rm=TRUE)
}
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 23)
pollutantmean("specdata", "nitrate", 70:72)
?complete.cases
?rbind
complete <- function(directory, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
answ <- data.frame(id=numeric(), nobs=numeric())
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
answ <- rbind(answ,data.frame(id=i, nobs=nrow(data[complete.cases(data), ])))
}
}
complete("specdata", 1)
complete <- function(directory, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
answ <- data.frame(id=numeric(), nobs=numeric())
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
answ <- rbind(answ,data.frame(id=i, nobs=nrow(data[complete.cases(data), ])))
}
answ
}
complete("specdata", 1)
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
answ <- data.frame(id=numeric(), nobs=numeric())
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
answ <- rbind(answ,data.frame(i,nrow(data[complete.cases(data), ])))
}
answ
}
complete("specdata", c(2, 4, 8, 10, 12))
complete <- function(directory, id=1:332){
##Creating filenames(can be 001,010 and 100)
iFileName <- function(directory, id) {
if (id < 10) {
filename = paste(directory, "/","00", id, ".csv", sep="")
} else if (id >= 10 && id < 100) {
filename = paste(directory, "/", "0", id, ".csv", sep="")
} else {
filename = paste(directory, "/", id, ".csv", sep="")
}
}
answ <- data.frame(id=numeric(), nobs=numeric())
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
answ <- rbind(answ,data.frame(id=i,nobs=nrow(data[complete.cases(data), ])))
}
answ
}
complete("specdata", c(2, 4, 8, 10, 12))
complete("specdata", 30:25)
complete("specdata", 3)
?cor
corr <- function(directory, threshold = 0) {
source("complete.R")
measurments <- complete(directory, 1:332)
sulfate <- numeric()
nitrate <- numeric()
result <- numeric()
for (i in measurments$id[measurments$nobs > threshold]) {
filename <- iFileName(directory, i)
data <- read.csv(filename)
result <- c(result, cor(data$sulfate, data$nitrate, use="complete.obs"))
}
result
}
cr <- corr("specdata", 150)
cr <- corr("specdata", 150)
complete <- function(directory, id=1:332){
##Creating filenames(can be 001,010 and 100)
source("iFileName.R")
answ <- data.frame(id=numeric(), nobs=numeric())
for (i in id) {
nameoffile <- iFileName(directory,i)
data <- read.csv(nameoffile)
answ <- rbind(answ,data.frame(id=i,nobs=nrow(data[complete.cases(data), ])))
}
answ
}
complete("specdata", 3)
complete("specdata", 30:25)
corr <- function(directory, threshold = 0) {
source("complete.R")
source("iFileName.R")
measurments <- complete(directory, 1:332)
sulfate <- numeric()
nitrate <- numeric()
result <- numeric()
for (i in measurments$id[measurments$nobs > threshold]) {
filename <- iFileName(directory, i)
data <- read.csv(filename)
result <- c(result, cor(data$sulfate, data$nitrate, use="complete.obs"))
}
result
}
cr <- corr("specdata", 150)
head(cr)
summary(cr)
cr <- corr("specdata", 400)
head(cr)
cr <- corr("specdata", 5000)
summary(cr)
cr <- corr("specdata")
lenght(cr)
lenghts(cr)
length(cr)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
cr <- corr("specdata")
cr <- sort(cr)
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
b<-rnorm(10)
b
?rnorm
x<-list(a<-1:5, b<-rnorm(10)
lapply(x, mean)
x<-list(a<-1:5, b<-rnorm(10))
lapply(x, mean)
$a
x<-list(a=1:5, b=rnorm(10))
lapply(x, mean)
x<-list(a=1:4, b=rnorm(10), c=rnorm(20,1), d=rnorm(100,5))
lapply(x, mean)
x<-list(a=1:4, b=rnorm(10), c=rnorm(200,1), d=rnorm(100,5))
lapply(x, mean)
x<-list(a=1:4, b=rnorm(10), c=rnorm(200,1), d=rnorm(1000,5))
lapply(x, mean)
x<-list(a=1:4, b=rnorm(10), c=rnorm(2000,1), d=rnorm(1000,5))
lapply(x, mean)
x<-list(a=matrix(1:4,2,2),b=matrix(1:6,3,2))
x
lapply(x,function(elt) elt([,1]))
lapply(x,function(elt) elt[,1])
str(apply)
?str
x<-matrix(rnorm(200),20,10)
x
apply(x,2,mean)
apply(x,1,sum)
apply(x,1,quantile,probs=c(0.25, 0,75))
apply(x,1,quantile,probs=c(0.25, 0.75))
y<-matrix(rep(200),20,10)
y
y<-matrix(rep(100),20,10)
y
apply(y,1,quantile,probs=c(0.25, 0.75))
y<-matrix(1:200),20,10)
y<-matrix(1:200,20,10)
apply(y,1,quantile,probs=c(0.25, 0.75))
y
apply(y,2,quantile,probs=c(0.25, 0.75))
a <- array(rnorm(2 * 2 * 10), c(2, 2, 10))
apply(a, c(1, 2), mean)
a
rowMeans(a, dims = 2)
rowMeans(a, dims = 1)
rowMeans(a, dims = 3)
rowMeans(a, dims = 2)
?rowMeans
maply(1:4,4:1)
mapply(1:4,4:1)
mapply(rep,1:4,4:1)
x<-function(x,t){dkf}
dd
?runif
f<-gl(3,10)
f
?gl
runif(10)
ls
ls()
